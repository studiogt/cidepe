!function(){"use strict";!function(P,t,D){function E(n,i){var a=null;return function(){var t=this,e=arguments;null===a&&(a=setTimeout(function(){n.apply(t,e),a=null},i))}}var r,e=(r={},function(t){if(r[t]!==D)return r[t];var e=document.createElement("div").style,n=t.charAt(0).toUpperCase()+t.slice(1),i=(t+" "+["webkit","moz","ms","o"].join(n+" ")+n).split(" ");for(var a in i)if(i[a]in e)return r[t]=i[a];return r[t]=!1}),i="http://www.w3.org/2000/svg",T=P(t),X=e("transform"),a={itemContainer:"ul",itemSelector:"li",start:"center",fadeIn:400,loop:!1,autoplay:!1,pauseOnHover:!0,style:"coverflow",spacing:-.6,click:!0,keyboard:!0,scrollwheel:!0,touch:!0,nav:!1,buttons:!1,buttonPrev:"Previous",buttonNext:"Next",onItemSwitch:!1},j={main:"flipster",active:"flipster--active",container:"flipster__container",nav:"flipster__nav",navChild:"flipster__nav__child",navItem:"flipster__nav__item",navLink:"flipster__nav__link",navCurrent:"flipster__nav__item--current",navCategory:"flipster__nav__item--category",navCategoryLink:"flipster__nav__link--category",button:"flipster__button",buttonPrev:"flipster__button--prev",buttonNext:"flipster__button--next",item:"flipster__item",itemCurrent:"flipster__item--current",itemPast:"flipster__item--past",itemFuture:"flipster__item--future",itemContent:"flipster__item__content"},L=new RegExp("\\b("+j.itemCurrent+"|"+j.itemPast+"|"+j.itemFuture+")(.*?)(\\s|$)","g"),N=new RegExp("\\s\\s+","g");P.fn.flipster=function(e){if("string"==typeof e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=P(this).data("methods");return t[e]?t[e].apply(this,n):this})}var I=P.extend({},a,e);return this.each(function(){var t,r,s,n,l,o,c,u,f,p=P(this),v=[],h=0,a=!1,d=!1;function e(e){return e=e||"next",P('<button class="'+j.button+" "+("next"===e?j.buttonNext:j.buttonPrev)+'" role="button" />').html((t=e,n="next"===t?I.buttonNext:I.buttonPrev,"custom"===I.buttons?n:'<svg viewBox="0 0 13 20" xmlns="'+i+'" aria-labelledby="title"><title>'+n+'</title><polyline points="10,3 3,10 10,17"'+("next"===t?' transform="rotate(180 6.5,10)"':"")+"/></svg>")).on("click",function(t){y(e),t.preventDefault()});var t,n}function m(){p.css("transition",""),r.css("transition",""),l.css("transition","")}function _(a){var t,e;a&&(p.css("transition","none"),r.css("transition","none"),l.css("transition","none")),s=r.width(),r.height((e=0,l.each(function(){t=P(this).height(),e<t&&(e=t)}),e)),s?(n&&(clearInterval(n),n=!1),l.each(function(t){var e,n,i=P(this);i.attr("class",function(t,e){return e&&e.replace(L,"").replace(N," ")}),e=i.outerWidth(),0!==I.spacing&&i.css("margin-right",e*I.spacing+"px"),n=i.position().left,v[t]=-1*(n+e/2-s/2),t===l.length-1&&(g(),a&&setTimeout(m,1))})):n=n||setInterval(function(){_(a)},500)}function g(){var e,n,i,a=l.length;l.each(function(t){e=P(this),n=" ",t===h?(n+=j.itemCurrent,i=a+1):t<h?(n+=j.itemPast+" "+j.itemPast+"-"+(h-t),i=t):(n+=j.itemFuture+" "+j.itemFuture+"-"+(t-h),i=a-t),e.css("z-index",i).attr("class",function(t,e){return e&&e.replace(L,"").replace(N," ")+n})}),0<=h&&(s&&v[h]!==D||_(!0),X?r.css("transform","translateX("+v[h]+"px)"):r.css({left:v[h]+"px"})),function(){if(I.nav){var t=o.data("flip-category");u.removeClass(j.navCurrent),f.filter(function(){return P(this).data("index")===h||t&&P(this).data("category")===t}).parent().addClass(j.navCurrent)}}()}function y(t){var e=h;if(!(l.length<=1))return"prev"===t?0<h?h--:I.loop&&(h=l.length-1):"next"===t?h<l.length-1?h++:I.loop&&(h=0):"number"==typeof t?h=t:t!==D&&(h=l.index(t)),o=l.eq(h),h!==e&&I.onItemSwitch&&I.onItemSwitch.call(p,l[h],l[e]),g(),p}function x(t){return I.autoplay=t||I.autoplay,clearInterval(a),a=setInterval(function(){var t=h;y("next"),t!==h||I.loop||clearInterval(a)},I.autoplay),p}function b(){return clearInterval(a),a=0,p}function w(t){return b(),I.autoplay&&t&&(a=-1),p}function C(){_(!0),p.hide().css("visibility","").addClass(j.active).fadeIn(I.fadeIn)}function k(){var o;if(r=p.find(I.itemContainer).addClass(j.container),!((l=r.find(I.itemSelector)).length<=1))return l.addClass(j.item).each(function(){var t=P(this);t.children("."+j.itemContent).length||t.wrapInner('<div class="'+j.itemContent+'" />')}),I.click&&l.on("click.flipster touchend.flipster",function(t){d||(P(this).hasClass(j.itemCurrent)||t.preventDefault(),y(this))}),I.buttons&&1<l.length&&(p.find("."+j.button).remove(),p.append(e("prev"),e("next"))),o={},!I.nav||l.length<=1||(c&&c.remove(),c=P('<ul class="'+j.nav+'" role="navigation" />'),f=P(""),l.each(function(t){var e=P(this),n=e.data("flip-category"),i=e.data("flip-title")||e.attr("title")||t,a=P('<a href="#" class="'+j.navLink+'">'+i+"</a>").data("index",t);if(f=f.add(a),n){if(!o[n]){var r=P('<li class="'+j.navItem+" "+j.navCategory+'">'),s=P('<a href="#" class="'+j.navLink+" "+j.navCategoryLink+'" data-flip-category="'+n+'">'+n+"</a>").data("category",n).data("index",t);o[n]=P('<ul class="'+j.navChild+'" />'),f=f.add(s),r.append(s,o[n]).appendTo(c)}o[n].append(a)}else c.append(a);a.wrap('<li class="'+j.navItem+'">')}),c.on("click","a",function(t){var e=P(this).data("index");0<=e&&(y(e),t.preventDefault())}),"after"===I.nav?p.append(c):p.prepend(c),u=c.find("."+j.navItem)),0<=h&&y(h),p}t={jump:y,next:function(){return y("next")},prev:function(){return y("prev")},play:x,stop:b,pause:w,index:k},p.data("methods",t),p.hasClass(j.active)||function(){var t;if(p.css("visibility","hidden"),k(),l.length<=1)p.css("visibility","");else{t=!!I.style&&"flipster--"+I.style.split(" ").join(" flipster--"),p.addClass([j.main,X?"flipster--transform":" flipster--no-transform",t,I.click?"flipster--click":""].join(" ")),I.start&&(h="center"===I.start?Math.floor(l.length/2):I.start),y(h);var e,n=p.find("img");if(n.length){var i=0;n.on("load",function(){++i>=n.length&&C()}),setTimeout(C,750)}else C();T.on("resize.flipster",E(_,400)),I.autoplay&&x(),I.pauseOnHover&&r.on("mouseenter.flipster",function(){a?w(!0):b()}).on("mouseleave.flipster",function(){-1===a&&x()}),e=p,I.keyboard&&(e[0].tabIndex=0,e.on("keydown.flipster",E(function(t){var e=t.which;37!==e&&39!==e||(y(37===e?"prev":"next"),t.preventDefault())},250))),function(t){if(I.scrollwheel){var e,n,i=!1,a=0,r=0,s=0;t.on("mousewheel.flipster wheel.flipster",function(){i=!0}).on("mousewheel.flipster wheel.flipster",E(function(t){clearTimeout(r),r=setTimeout(function(){s=a=0},300),t=t.originalEvent,s+=t.wheelDelta||-1*(t.deltaY+t.deltaX),Math.abs(s)<25||(a++,n!==(e=0<s?"prev":"next")&&(a=0),n=e,(a<6||a%3==0)&&y(e),s=0)},50)),T.on("mousewheel.flipster wheel.flipster",function(t){i&&(t.preventDefault(),i=!1)})}}(r),function(t){if(I.touch){var e,n,i,a,r=!1,s=E(y,300);t.on({"touchstart.flipster":function(t){t=t.originalEvent,d=t.touches?t.touches[0].clientX:t.clientX,r=t.touches?t.touches[0].clientY:t.clientY},"touchmove.flipster":E(function(t){!1!==d&&(t=t.originalEvent,e=t.touches?t.touches[0].clientX:t.clientX,n=t.touches?t.touches[0].clientY:t.clientY,i=n-r,a=e-d,Math.abs(i)<100&&30<=Math.abs(a)&&(s(a<0?"next":"prev"),d=e,t.preventDefault()))},100),"touchend.flipster touchcancel.flipster ":function(){d=!1}})}}(r)}}()})}}(jQuery,window)}();
//# sourceMappingURL=jquery.flipster.min.js.map