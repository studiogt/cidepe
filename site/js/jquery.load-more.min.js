!function(){"use strict";!function(n,t,e,i){Twig.extendFilter("hyphenize",function(t){return t.toLowerCase().split(" ").join("-")}),Twig.extendFilter("text_break",function(t,i){var e=n("<div />").html(t).text().split(" "),o="";return n.each(e,function(t,e){var n=o+" "+e;if(i<n.length)return!1;o=n}),o});var o="loadMore",s={};function r(t,e){this.element=t,this.options=n.extend({},s,e),this._defaults=s,this._name=o,this.init()}r.prototype.init=function(){var t=n(this.element);this.$el=t;this.options;this.enviando=!1,this.termiou=!1,this.next=t.data("next"),this.url=t.data("url"),this.options.records=t.data("records"),this.template=twig({data:t.find(".template").html()});var e=this;t.on("click",".btn-more",function(){e.load()})},r.prototype.onLoad=function(t){n.fancybox.hideLoading(),this.enviando=!1,t.success&&(t.rows.length<this.options.records&&(this.termiou=!0,this.$el.find(".btn-more").hide()),this.next+=t.rows.length,this.render(t.rows))},r.prototype.render=function(t){var e=this.template;e.render({rows:t});this.$el.prepend(e.render({rows:t}))},r.prototype.load=function(){if(this.enviando)return!1;this.enviando=!0;var e=this;n.fancybox.showLoading();var t=function(t){e.onLoad(t)};n.ajax({url:this.url,type:"post",dataType:"json",data:{next:e.next,rows:e.options.records},success:t,error:function(){t({success:!1,msg:"mensagem de erro"})}})},n.fn[o]=function(t){return this.each(function(){n.data(this,"plugin_"+o)||n.data(this,"plugin_"+o,new r(this,t))})}}(jQuery,window,document)}();
//# sourceMappingURL=jquery.load-more.min.js.map