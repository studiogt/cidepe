!function(){"use strict";var e,s;e=window,(s={_debug:!1,observer:null,disableCrossDomain:"false",getComputedStyle:function(e,t){return(t=t||window).getComputedStyle?t.getComputedStyle(e,null):e.currentStyle},getDefaultComputedStyle:function(e){var t=e.cloneNode(!0),o={},n=document.createElement("iframe");document.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.write("<body></body>"),n.contentWindow.document.body.appendChild(t),n.contentWindow.document.close();var i,d,r=n.contentWindow.document.querySelectorAll(e.nodeName.toLowerCase())[0],l=this.getComputedStyle(r,n.contentWindow);for(d in l)if(null!==(i=!0===l.getPropertyValue?l.getPropertyValue(d):l[d]))switch(d){default:o[d]=i;break;case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":}return document.body.removeChild(n),o},getMatchedStyle:function(e,t){var o=null,n=null;e.style.getPropertyValue?n=e.style.getPropertyValue(t):e.currentStyle&&(n=e.currentStyle[t]);var i,d,r=window.getMatchedCSSRules(e),l=r.length;if(l)for(;0<l--&&(d=(i=r[l]).style.getPropertyPriority(t),null!==o&&!d||(o=i.style.getPropertyValue(t),!d)););return o||null===n||(o=n),o},orientation:function(e){if(e.parentNode&&"x-object-fit"===e.parentNode.nodeName.toLowerCase()){var t=e.naturalWidth||e.clientWidth,o=e.naturalHeight||e.clientHeight,n=e.parentNode.clientWidth,i=e.parentNode.clientHeight;!o||n/i<t/o?"wider"!==e.getAttribute("data-x-object-relation")&&(e.setAttribute("data-x-object-relation","wider"),e.className="x-object-fit-wider",this._debug&&window.console&&console.log("x-object-fit-wider")):"taller"!==e.getAttribute("data-x-object-relation")&&(e.setAttribute("data-x-object-relation","taller"),e.className="x-object-fit-taller",this._debug&&window.console&&console.log("x-object-fit-taller"))}},process:function(e){if(e.selector&&e.replacedElements){switch(s.disableCrossDomain=e.disableCrossDomain||"false",e.fittype=e.fittype||"none",e.fittype){default:return;case"none":case"fill":case"contain":case"cover":}var t=e.replacedElements;if(t.length)for(var o=0,n=t.length;o<n;o++)this.processElement(t[o],e)}},processElement:function(e,t){var o,n,i=s.getComputedStyle(e),d=s.getDefaultComputedStyle(e),r=document.createElement("x-object-fit");for(o in s._debug&&window.console&&console.log("Applying to WRAPPER-------------------------------------------------------"),i)switch(o){default:null!==(n=s.getMatchedStyle(e,o))&&""!==n&&(s._debug&&window.console&&console.log(o+": "+n),r.style[o]=n);break;case"length":case"parentRule":}for(o in s._debug&&window.console&&console.log("Applying to REPLACED ELEMENT-------------------------------------------------------"),d)switch(o){default:n=d[o],s._debug&&window.console&&""!==n&&(console.log(o+": "+n),void 0===e.style[o]&&console.log("Indexed style properties (`"+o+"`) not supported in: "+window.navigator.userAgent)),e.style[o]?e.style[o]=n:e.style.property=n;break;case"length":case"parentRule":}r.setAttribute("class","x-object-fit-"+t.fittype),e.parentNode.insertBefore(r,e),r.appendChild(e),s.orientation(e);var l=null,c=function(){null!==l&&window.cancelAnimationFrame(l),l=window.requestAnimationFrame(function(){s.orientation(e)})};switch(t.fittype){default:break;case"contain":case"cover":window.addEventListener?(e.addEventListener("load",c,!1),window.addEventListener("resize",c,!1),window.addEventListener("orientationchange",c,!1)):(e.attachEvent("onload",c),window.attachEvent("onresize",c))}}}).listen=function(n){var r=function(e){for(var t=0,o=n.length;t<o;t++)(e.mozMatchesSelector&&e.mozMatchesSelector(n[t].selector)||e.msMatchesSelector&&e.msMatchesSelector(n[t].selector)||e.oMatchesSelector&&e.oMatchesSelector(n[t].selector)||e.webkitMatchesSelector&&e.webkitMatchesSelector(n[t].selector))&&(n[t].replacedElements=[e],s.process(n[t]),s._debug&&window.console&&console.log("Matching node inserted: "+e.nodeName))},t=function(e){window.removeEventListener("DOMNodeInserted",t,!1),r(e.target),window.addEventListener("DOMNodeInserted",t,!1)},l=function(e){"x-object-fit"===e.nodeName.toLowerCase()&&(e.parentNode.removeChild(e),s._debug&&window.console&&console.log("Matching node removed: "+e.nodeName))},o=function(e){window.removeEventListener("DOMNodeRemoved",o,!1),l(e.target.parentNode),window.addEventListener("DOMNodeRemoved",o,!1)};window.MutationObserver?(s._debug&&window.console&&console.log("DOM MutationObserver"),this.observer=new MutationObserver(function(e){e.forEach(function(e){if(e.addedNodes&&e.addedNodes.length)for(var t=e.addedNodes,o=0,n=t.length;o<n;o++)i=t[o],s.observer.disconnect(),r(i),s.observer.observe(document.documentElement,{childList:!0,subtree:!0});var i,d;e.removedNodes&&e.removedNodes.length&&(d=e.target,s.observer.disconnect(),l(d),s.observer.observe(document.documentElement,{childList:!0,subtree:!0}))})}),this.observer.observe(document.documentElement,{childList:!0,subtree:!0})):window.addEventListener&&(s._debug&&window.console&&console.log("DOM Mutation Events"),window.addEventListener("DOMNodeInserted",t,!1),window.addEventListener("DOMNodeRemoved",o,!1))},s.init=function(e){if(e){e instanceof Array||(e=[e]);for(var t=0,o=e.length;t<o;t++)e[t].replacedElements=document.querySelectorAll(e[t].selector),this.process(e[t]);this.listen(e)}},s.polyfill=function(e){"objectFit"in document.documentElement.style==0?(s._debug&&window.console&&console.log("object-fit not natively supported"),"complete"===document.readyState?s.init(e):window.addEventListener?window.addEventListener("load",function(){s.init(e)},!1):window.attachEvent("onload",function(){s.init(e)})):s._debug&&window.console&&console.log("object-fit natively supported")},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=s:"function"==typeof define&&define.amd?define([],function(){return s}):"object"==typeof e&&"object"==typeof e.document&&(e.objectFit=s)}();
//# sourceMappingURL=polyfill.object-fit.core.min.js.map