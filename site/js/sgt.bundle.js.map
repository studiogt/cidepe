{"version":3,"file":"sgt.bundle.js","sources":["sgt.js"],"sourcesContent":["var SGT = (function(){\n\n\n\tvar getLogradouro = (function(){\n\t\tvar cache = {};\n\n\t\treturn function(cep,cb) {\n\t\t\tvar promise;\n\t\t\tif (!cache[cep]) {\n\t\t\t\tvar dfd = $.Deferred();\n\t\t\t\tpromise = dfd.promise();\n\t\t\t\tcache[cep] = promise;\n\n\t\t\t\tvar callback = function(resp) {\n\t\t\t\t\tvar data = false;\n\t\t\t\t\tif (resp.success) {\n\t\t\t\t\t\tdata = resp.data[0];\t\n\n\t\t\t\t\t\tvar logradouro = /(.+) \\- de (\\d+) a (\\d+) \\- lado (.+)$/.exec(data.logradouro);\n\t\t\t\t\t\tif (logradouro) {\n\t\t\t\t\t\t\tdata.logradouro = logradouro[1];\n\t\t\t\t\t\t\tdata.numeros = {\n\t\t\t\t\t\t\t\tde: logradouro[2],\n\t\t\t\t\t\t\t\tate: logradouro[3]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tdata.lado = logradouro[4];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdfd.resolve(data);\n\t\t\t\t}\n\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: 'https://www.studiogt.com.br/wsdl/api.php/location/getLogradouro?cep='+cep.replace(/\\D/igm,''),\t\t\t\t\t\t\t\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: callback,\n\t\t\t\t\terror: function() {\n\t\t\t\t\t\tcallback({success:false});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tpromise = cache[cep];\n\t\t\t}\n\n\t\t\tpromise.done(cb);\n\t\t};\n\t}());\n\n\treturn {\n\t\tlocation: {\n\t\t\tgetLogradouro: getLogradouro\n\t\t}\n\t};\n}());\n\n/*\n$('body').on('keyup','[alt=cep]',function() {\n\tvar $self = $(this);\n\n\tif ($self.data('enviando')) return;\n\t\n\t//TROCAR O CONTAINER\n\tvar $container = $self.closest('.clone');\n\n\tvar cep = $self.val().replace(/\\D/igm,'');\n\tif (cep.length!=8) return;\n\n\t$self.data('enviando',true);\n\t$.fancybox.showLoading();\n\n\tSGT.location.getLograduro(cep,function(resp) {\n\t\t$self.data('enviando',false);\n\t\t$.fancybox.hideLoading();\n\n\t\tvar data = resp||{logradouro:'',bairro:'',cidade:'',uf:''};\n\t\t\n\t\t$.each(data,function(i,val) {\t\t\n\n\t\t\t//Para o caso <input name=\"endereco[0][cidade]\" />\n\t\t\t$container.find('[name$='+i+'\\\\]]').val(val);\t\n\n\t\t\t//Para o caso <input name=\"cidade\" />\n\t\t\t//$container.find('[name='+i+']').val(val);\n\t\t});\n\n\t});\n});\n*/"],"names":[],"mappings":";;;CAsDA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;;;"}